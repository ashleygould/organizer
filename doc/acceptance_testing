# run this from within base project dir
orgcrawler -r awsauth/OrgAdmin \
  get_account_aliases \
  --regions-for-service ec2 \
  --account-query list_accounts_in_ou_recursive \
  --account-query-arg ucpath \
  --account-role awsauth/OrgAdmin \
  -f organizer/cli/payloads.py

# should fail
orgcrawler -r awsauth/OrgAdmin \
  organizer.cli.payloads.get_account_aliases \
  --regions-for-service iam \
  --account-role NoSuchRole

# should fail
orgcrawler -r NoSuchRole \
  organizer.cli.payloads.get_account_aliases \
  --regions-for-service iam \
  --account-role awsauth/OrgAdmin

# should succeed
orgcrawler -r awsauth/OrgAdmin \
  organizer.cli.payloads.get_account_aliases \
  --regions-for-service iam \
  --account-role awsauth/OrgAdmin


orgcrawler -r awsauth/OrgAdmin \
  organizer.cli.payloads.config_resource_counts \
  --regions us-west-2 \
  --account-role awsauth/OrgAdmin

orgcrawler -r awsauth/OrgAdmin \
  organizer.cli.payloads.config_describe_rules \
  --regions us-west-2

orgcrawler -r awsauth/OrgAdmin \
  organizer.cli.payloads.config_describe_recorder_status \
  --regions us-west-2


